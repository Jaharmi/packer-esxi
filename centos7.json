{
  "variables": {
    "iso": "http://miroir.univ-lorraine.fr/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1804.iso",
    "checksum": "714acc0aefb32b7d51b515e25546835e55a90da9fb00417fbee2d03a62801efd"
  },
  "builders": [{
    "vm_name": "MyCentOS7",
    "guest_os_type": "centos-64",
    "output_directory": "centos-7-base",
    "type": "vmware-iso",

    "iso_url": "{{ user `iso` }}",
    "iso_checksum": "{{ user `checksum` }}",
    "iso_checksum_type": "sha256",

    "ssh_username": "root",
    "ssh_password": "owentis",
    "ssh_port": 22,
    "ssh_timeout": "60000s",
    "ssh_wait_timeout": "60000s",

    "vmx_data": {
      "memsize": "1024",
      "numvcpus": "1",
      "ethernet0.connectionType": "nat",
      "cpuid.coresPerSocket": "1",
      "disk_size": "10240"
    },

    "http_directory": "preseed",
    "boot_command": [
      "<tab> text ks=http://{{ .HTTPIP }}/preseed/ks.cfg<enter><wait>"
    ],
    "shutdown_command": "/sbin/halt -p"
  }]
}
